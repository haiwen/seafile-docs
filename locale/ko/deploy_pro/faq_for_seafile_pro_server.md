# 자주 묻는 질문
## <a id="wiki-search-faq"></a>검색 기능에 대해 자주 묻는 질문 ##

- Q: 써보려고 했는데 암호화한 라이브러리의 파일은 검색 목록에 안뜨네요

  A: 서버에서 암호화한 파일은 암호화했기 때문에 색인처리할 수 없습니다.

- Q: 커뮤니티판 서버에서 전문가판 서버로 전환했는데, 검색할 때마다 결과가 안나오네요

  A: 검색 색인은 기본적으로 매 10분마다 업데이트합니다. 따라서 처음 색인 업데이트를 수행하기 전에는 검색 결과가 나타나지 않습니다.

  즉시 검색할 수 있게 하려면,

  - Seafile 서버를 시작했는지 확인하십시오
  - 검색 색인을 직접 업데이트 하십시오:
  ```
  cd haiwen/seafile-pro-server-1.7.0
  ./pro/pro.py search --update
  ```

  파일이 좀 많이 있다면, 처리 과정이 좀 걸릴 수 있습니다.

- Q: 오피스/pdf 문서 전체 텍스트 검색을 활성화하려고 해서, 설정 파일에서 `index_office_pdf`를 `true`로 설정했는데 동작하지 않네요.

A: 이 경우 다음 절차를 진행해야합니다:
1. `seafevents.conf`의 `index_office_pdf` 설정 항목을 `true` 값으로 설정하십시오
  2. Seafile 서버를 다시 시작하십시오
  ```
  cd /data/haiwen/seafile-pro-server-1.7.0/
  ./seafile.sh restart
  ```
  3. 기존 검색 색인을 삭제하십시오
  ```
  ./pro/pro.py search --clear
  ```
  4. 검색 색인을 다시 만들고 업데이트하십시오
  ```
  ./pro/pro.py search --update
  ```


## <a id="wiki-office-preview-faq"></a>리버오피스 기반 오피스 문서 미리보기 관련 자주 묻는 질문 ##

- Q: 브라우저에서 "문서 변환 실패"라고 뜨고 로그 메시지에는 `[WARNING] failed to convert xxx to ...` 같은 내용이 나타나는데 뭘 해야 하죠?

  A: 특히 서버에서 Seafile 서버를 처음 실행하는 경우, 가끔은 리버오피스 프로세스를 다시 시작해야 합니다.

리버오피스 프로세스 강제 종료를 시도해보십시오:
  ```sh
  pkill -f soffice.bin
  ```
이제 브라우저에서 미리보기 페이지를 다시 열어보십시오.

  또한 클러스터 모드에서 Seafile을 가동할 경우 memcached가 각 서버에서 동작하는지 확인하십시오.

- Q: 위 해결책으로 문제를 해결해주지 못해요.

  A: 사용자가 실행한 Seafile에서 리버오피스 프로세스를 제대로 시작할 수 있는지 확인하십시오. 권한 문제일 수 있습니다. 예를 들어 Seafile을 실행할 때 www-data 사용자를 활용한다면, www-data 사용자에게 내 폴더가 있고 내 폴더에 기록할 수 있는지 확인하십시오.

